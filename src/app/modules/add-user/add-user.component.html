<form [formGroup]="form" (ngSubmit)="onSubmit()">

    <div id="grid-container">

        <div class="form-group firstname">
            <label for="firstname">Firstname</label>
            <input type="text" formControlName="firstname" id="firstname" required maxlength="20"
                [ngClass]="{ 'is-invalid': submitted && f['firstname'].errors }">
            <div *ngIf="submitted && f['firstname'].errors" class="invalid-feedback">
                <div *ngIf="f['firstname'].errors['required']">
                    Le prénom est requis.
                </div>
                <div *ngIf="f['firstname'].errors['maxlength']">
                    Le prénom ne doit pas dépasser 20 caractères.
                </div>
            </div>
        </div>

        <div class="form-group lastname">
            <label for="lastname">Lastname</label>
            <input type="text" formControlName="lastname" id="lastname" required maxlength="20"
                [ngClass]="{ 'is-invalid': submitted && f['lastname'].errors}">
            <div *ngIf="submitted && f['lastname'].errors" class="invalid-feedback">
                <div *ngIf="f['lastname'].errors['required']">
                    Le nom est requis.
                </div>
                <div *ngIf="f['lastname'].errors['maxlength']">
                    Le nom ne doit pas dépasser 20 caractères.
                </div>
            </div>
        </div>

        <div class="form-group civ">
            <label for="civ">Civ</label>
            <select formControlName="civ" id="civ" required [ngClass]="{ 'is-invalid': submitted && f['civ'].errors}">
                <option value="">- Civilité -</option>
                <option value="0">Mr.</option>
                <option value="1">Mme.</option>
            </select>
            <div *ngIf="submitted && f['civ'].errors" class="invalid-feedback">
                <div *ngIf="f['civ'].errors['required']">
                    La civilité est requise.
                </div>
            </div>
        </div>

        <div class="form-group email">
            <label for="email">Email</label>
            <input formControlName="email" type="email" id="email" required maxlength="100"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                [ngClass]="{ 'is-invalid': submitted && f['email'].errors}">
            <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                <div *ngIf="f['email'].errors['required']">
                    L'email est requis.
                </div>
                <div *ngIf="f['email'].errors['maxlength']">
                    L'email ne doit pas dépasser 100 caractères.
                </div>
                <div *ngIf="f['email'].errors['email']">Email is invalid</div>
            </div>
        </div>

        <div class="form-group user-role">
            <label for="role">Rôle</label>
            <select formControlName="id_role" id="role" required
                [ngClass]="{ 'is-invalid': submitted && f['id_role'].errors}">
                <option value="">- Rôle -</option>
                <option *ngFor="let role of userRoles" value="{{role.id}}">{{role.name}}</option>
            </select>
            <div *ngIf="submitted && f['id_role'].errors" class="invalid-feedback">
                <div *ngIf="f['id_role'].errors['required']">Le rôle est requis.</div>
            </div>
        </div>

        <div class="form-group password">
            <label for="password">Password</label>
            <input type="password" formControlName="password" id="password" required minlength="8" maxlength="20"
                [ngClass]="{ 'is-invalid': submitted && f['password'].errors}">
            <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
                <div *ngIf="f['password'].errors['required']">
                    Le mot de passe est requis.</div>
                <div *ngIf="f['password'].errors['minlength']">
                    Le mot de passe doit faire au moins 8 caractères.
                </div>
                <div *ngIf="f['password'].errors['maxlength']">
                    Le mot de passe ne doit pas dépasser 20 caractères.
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" formControlName="confirmPassword" id="confirm-password" required minlength="8"
                maxlength="20" [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].errors }" />
            <div *ngIf="submitted && f['confirmPassword'].errors" class="invalid-feedback">
                <div *ngIf="f['confirmPassword'].errors['required']">
                    La confirmation du mot de passe est requise.
                </div>
                <div *ngIf="f['confirmPassword'].errors['minlength']">
                    La confirmation du mot de passe doit faire au moins 8 caractères.
                </div>
                <div *ngIf="f['confirmPassword'].errors['maxlength']">
                    La confirmation du mot de passe ne doit pas dépasser 20 caractères.
                </div>
                <div *ngIf="f['confirmPassword'].errors['matching']">
                    La mots de passe doivent correspondre.
                </div>
            </div>
        </div>
    </div>

    <div id="buttons">
        <button class="button" type="button" (click)="onSubmit()">Créer</button>
        <button class="button" type="button" (click)="onReset()">Reset</button>
        <button class="button" type="button" (click)="back()">Annuler</button>
    </div>

</form>